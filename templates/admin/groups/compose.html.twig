{% extends 'admin/base.html.twig' %}

{% block title %}Composition du groupe {{group.name}}{% endblock %}

{% block body %}
    <div class="container cont-admin h-100">
        <h1 class="mt-3 mb-5">Composition du groupe {{group.name}}</h1>

        {% for label, messages in app.flashes %}
            <div class="alert alert-{{ label }}">
                {% for message in messages %}
                    <p>{{ message | raw }}</p>
                {% endfor %}
            </div>
        {% endfor %}

        {% if freeTeams | length >= 4 %}
        <form class="form-group mt-5" action="{{path('compose_treatment', {'id':group.id})}}" method="POST">
            <select class="custom-select mb-3" name="team1" required>
                <option value="null">Sélectionnez une équipe</option>
                {% for team in freeTeams %}
                    <option value="{{team.id}}">{{team.name}}</option>
                {% endfor %}
            </select>
            <select class="custom-select mb-3" name="team2" required>
                <option value="null">Sélectionnez une équipe</option>
                {% for team in freeTeams %}
                    <option value="{{team.id}}">{{team.name}}</option>
                {% endfor %}
            </select>
            <select class="custom-select mb-3" name="team3" required>
                <option value="null">Sélectionnez une équipe</option>
                {% for team in freeTeams %}
                    <option value="{{team.id}}">{{team.name}}</option>
                {% endfor %}
            </select>
            <select class="custom-select mb-3" name="team4" required>
                <option value="null">Sélectionnez une équipe</option>
                {% for team in freeTeams %}
                    <option value="{{team.id}}">{{team.name}}</option>
                {% endfor %}
            </select>
            <button type="submit" class="mt-3 mb-3 btn btn-info">Valider</button>
        </form>
        {% else %}
            <p class="font-weight-light">Il n'y a plus suffisamment d'équipes disponibles</p>
        {% endif %}
        
    </div>
{% endblock %}